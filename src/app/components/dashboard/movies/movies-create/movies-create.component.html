<div class="container">
  <div class="card">
    <div class="card-header">
      Adicionar novo filme
      <button (click)="back()" class="btn btn-info float-end">
        Voltar
      </button>
    </div>
    <div class="card-body">
      <form [formGroup]="form">
        <div class="mb-3">
          <label for="title" class="form-label">TÃ­tulo</label>
          <input type="text" class="form-control" formControlName="title">
        </div>
        <div class="mb-3">
          <label for="director" class="form-label">Diretor</label>
          <input type="text" class="form-control" formControlName="director">
        </div>
        <div class="mb-3">
          <label for="genres" class="form-label">Categoria</label>
          <select class="form-select" aria-label="Categoria" formControlName="genres" required>
            <option disabled>Selecione</option>
            <option *ngFor="let genre of genres" [value]="genre.name">{{genre.name}}</option>
          </select>
        </div>
        <div class="mb-3">
          <label for="year" class="form-label">Ano</label>
          <input type="tel" class="form-control" maxlength="4" formControlName="year">
        </div>
        <div class="mb-3">
          <label for="image" class="form-label">Capa</label>
          <img [src]="iconUrl" class="img-thumbnail imagemUpload" alt="Imagem" *ngIf="iconUrl">
          <input type="file" class="form-control" (change)="uploadImage($event)">
          <div class="progress" *ngIf="(percentageChanges$ | async ) as percentage">
            <div class="progress-bar" role="progressbar" attr.aria-valuenow="{{ percentage }}" aria-valuemin="0" aria-valuemax="100" [ngStyle]="{width: percentage + '%'}">
              {{ percentage }}%
            </div>
          </div>
        </div>
        <button type="button" class="btn btn-primary" (click)="createMovie()">Adicionar</button>
      </form>
    </div>
  </div>
</div>
